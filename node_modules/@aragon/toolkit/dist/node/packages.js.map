{"version":3,"sources":["../../src/node/packages.js"],"names":["isPackage","dir","initPackage","path","stdout","cwd","getGlobalPackagesLocation","getNodePackageManager","getPackageRoot","pkgDir","sync"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEO,MAAMA,SAAS,GAAGC,GAAG,IAAI,gBAASA,GAAT,EAAc,cAAd,CAAzB;;;;AAEA,MAAMC,WAAW,GAAG,MAAMC,IAAN,IAAc;AACvC,QAAM,wBAAUA,IAAV,CAAN;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAa,MAAM,oBAAM,KAAN,EAAa,CAAC,MAAD,EAAS,OAAT,CAAb,EAAgC;AACvDC,IAAAA,GAAG,EAAEF;AADkD,GAAhC,CAAzB;AAGA,SAAOC,MAAP;AACD,CANM;;;;AAQA,MAAME,yBAAyB,GAAG,YAAY;AACnD,QAAM;AAAEF,IAAAA;AAAF,MAAa,MAAM,oBAAM,KAAN,EAAa,CAAC,QAAD,EAAW,UAAX,CAAb,CAAzB;AACA,SAAOA,MAAP;AACD,CAHM;;;;AAKA,MAAMG,qBAAqB,GAAG,MAAM;AACzC,SAAO,KAAP;AACD,CAFM;AAIP;;;;;;;AAGO,MAAMC,cAAc,GAAGH,GAAG,IAAII,gBAAOC,IAAP,CAAYL,GAAZ,CAA9B","sourcesContent":["import { join as joinPath } from 'path'\nimport execa from 'execa'\nimport { ensureDir } from 'fs-extra'\nimport pkgDir from 'pkg-dir'\n\nexport const isPackage = dir => joinPath(dir, 'package.json')\n\nexport const initPackage = async path => {\n  await ensureDir(path)\n  const { stdout } = await execa('npm', ['init', '--yes'], {\n    cwd: path,\n  })\n  return stdout\n}\n\nexport const getGlobalPackagesLocation = async () => {\n  const { stdout } = await execa('npm', ['prefix', '--global'])\n  return stdout\n}\n\nexport const getNodePackageManager = () => {\n  return 'npm'\n}\n\n/**\n * Usage: `const path = getPackageRoot(__dirname)`\n */\nexport const getPackageRoot = cwd => pkgDir.sync(cwd)\n"],"file":"packages.js"}