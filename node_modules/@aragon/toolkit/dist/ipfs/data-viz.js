"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.stringifyMerkleDAG = stringifyMerkleDAG;
exports.stringifyMerkleDAGNode = stringifyMerkleDAGNode;

var _chalk = _interopRequireDefault(require("chalk"));

var _byteSize = _interopRequireDefault(require("byte-size"));

var _stringifyTree = require("stringify-tree");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function stringifyMerkleDAG(merkleDAG) {
  return (0, _stringifyTree.stringifyTree)(merkleDAG, node => stringifyMerkleDAGNode(node), node => node.links);
}

function stringifyMerkleDAGNode(merkleDAG) {
  const cid = merkleDAG.cid;
  const name = merkleDAG.name || 'root';
  const nameWithIcon = `${merkleDAG.isDir ? '📁  ' : '📃  '}${name}`;
  const parsedSize = (0, _byteSize.default)(merkleDAG.size);
  const size = parsedSize.value + parsedSize.unit;

  const delimiter = _chalk.default.gray(' - ');

  return [nameWithIcon, size, _chalk.default.gray(cid)].join(delimiter);
}
//# sourceMappingURL=data-viz.js.map