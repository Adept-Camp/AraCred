parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"70DH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=w(require("@babel/runtime/helpers/defineProperty")),t=w(require("styled-components")),r=v(require("react")),a=w(require("prop-types")),l=require("date-fns"),n=require("@aragon/ui"),i=require("../../Form"),u=w(require("../../../hooks/useGithubAuth")),o=require("../../../api-react"),s=require("../../Panel"),d=require("../../../utils/ipfs-helpers"),c=require("web3-utils"),p=require("../../../utils/shapes.js"),f=require("../../../../../../shared/ui"),m=require("../PanelComponents");function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var n=a?Object.getOwnPropertyDescriptor(e,l):null;n&&(n.get||n.set)?Object.defineProperty(r,l,n):r[l]=e[l]}return r.default=e,t&&t.set(e,r),r}function w(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function y(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?g(Object(a),!0).forEach(function(r){(0,e.default)(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var E=t.default.div.withConfig({displayName:"ReviewApplication___StyledDiv",componentId:"sc-171pqg-0"})(["margin:","px 0"],e=>e._css),D=(0,t.default)(n.DropDown).withConfig({displayName:"ReviewApplication___StyledDropDown",componentId:"sc-171pqg-1"})(["margin-bottom:","px"],e=>e._css2);const O=({issue:e,requestIndex:t,readOnly:a})=>{const p=(0,u.default)(),{api:{reviewApplication:b}}=(0,o.useAragonApi)(),{closePanel:v}=(0,s.usePanelManagement)(),w=(0,n.useTheme)(),[g,O]=(0,r.useState)(""),[q,P]=(0,r.useState)(t),j=async t=>{v();const r=(e=>{const t=new Date;return{feedback:g,approved:e,user:p,reviewDate:t.toISOString()}})(t),a=e.requestsData[q],l=await(0,d.ipfsAdd)(y({},a,{review:r}));b((0,c.toHex)(e.repoId),e.number,e.requestsData[q].contributorAddr,l,t).toPromise()},k=e.requestsData[q],_={user:{login:k.user.login,name:k.user.name,avatarUrl:k.user.avatarUrl,url:k.user.url},workplan:k.workplan,hours:k.hours,eta:"-"===k.eta?k.eta:(0,l.format)(new Date(k.eta),"MMM d"),applicationDate:k.applicationDate},x=_.user,T=x.name?x.name:x.login,A=(0,l.formatDistance)(new Date(_.applicationDate),new Date);return r.default.createElement(E,{_css:2*n.GU},r.default.createElement(m.IssueTitle,{issue:e}),r.default.createElement(i.FieldTitle,null,"Applicant"),r.default.createElement(D,{name:"Applicant",items:e.requestsData.map(e=>e.user.login),onChange:e=>P(e),selected:q,wide:!0,_css2:3*n.GU}),r.default.createElement(m.SubmissionDetails,{background:`${w.background}`,border:`${w.border}`},r.default.createElement(m.UserLink,null,r.default.createElement(m.Avatar,{user:x}),T," applied ",A," ago"),r.default.createElement(i.FieldTitle,null,"Work Plan"),r.default.createElement(f.DetailHyperText,null,_.workplan),r.default.createElement(h,null,r.default.createElement("div",null,r.default.createElement(i.FieldTitle,null,"Estimated Hours"),r.default.createElement(n.Text,null,_.hours)),r.default.createElement("div",null,r.default.createElement(i.FieldTitle,null,"Estimated Date"),r.default.createElement(n.Text,null,_.eta)))),"review"in k&&r.default.createElement(r.default.Fragment,null,r.default.createElement(i.FieldTitle,null,"Application Status"),r.default.createElement(m.FieldText,null,r.default.createElement(m.Status,{reviewDate:k.review.reviewDate,approved:k.review.approved})),r.default.createElement(i.FieldTitle,null,"Feedback"),r.default.createElement(n.Text.Block,{style:{margin:"10px 0"}},k.review.feedback.length?k.review.feedback:"No feedback was provided")),!a&&!k.review&&r.default.createElement(r.default.Fragment,null,r.default.createElement(i.FormField,{label:"Feedback",input:r.default.createElement(n.TextInput.Multiline,{name:"feedback",rows:"3",onChange:e=>O(e.target.value),placeholder:"Do you have any feedback to provide the applicant?",value:g,wide:!0})}),r.default.createElement(m.ReviewButtons,{onAccept:()=>j(!0),onReject:()=>j(!1),disabled:!1})))};O.propTypes={issue:p.issueShape,requestIndex:a.default.number.isRequired,readOnly:a.default.bool.isRequired};const h=t.default.div.withConfig({displayName:"ReviewApplication__Estimations",componentId:"sc-171pqg-2"})(["display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto;grid-gap:12px;"]);var q=O;exports.default=q;
},{"@babel/runtime/helpers/defineProperty":"lsuE","styled-components":"Nqwh","react":"SAdv","prop-types":"yu5W","date-fns":"04Br","@aragon/ui":"bbWz","../../Form":"KB8S","../../../hooks/useGithubAuth":"XniQ","../../../api-react":"wmP9","../../Panel":"YykG","../../../utils/ipfs-helpers":"YOCL","web3-utils":"8ieL","../../../utils/shapes.js":"fGdT","../../../../../../shared/ui":"z8Pb","../PanelComponents":"QVUT"}],"tsU7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return e.default}});var e=t(require("./ReviewApplication"));function t(e){return e&&e.__esModule?e:{default:e}}
},{"./ReviewApplication":"70DH"}]},{},[], null)
//# sourceMappingURL=ReviewApplication.e1dcd786.js.map